<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Astra - Product Details</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/toast.css" />
  <!-- Font Awesome CDN for social media icons and cart -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

  <header class="main-header">
    <img src="images/astra_logo.jpeg" alt="ASTRA Logo" class="logo" />
    <div class="header-actions">
      <a href="cart.html" class="cart-icon mobile-only" aria-label="Cart">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-count">0</span>
      </a>
      <button class="menu-toggle" id="menu-toggle" aria-label="Toggle menu">
        ☰
      </button>
    </div>
    <div class="nav-search-wrapper">
      <nav id="nav-menu" class="nav-menu">
        <ul class="nav-links">
          <li>
            <a href="cart.html" class="cart-icon desktop-only" aria-label="Cart">
              <i class="fas fa-shopping-cart"></i>
              <span class="cart-count">0</span>
            </a>
          </li>
          <li><a href="index.html">Home</a></li>
          <li><a href="index.html#products">Shop</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
      <div class="search-wrapper">
        <div class="search-bar">
          <input type="text" id="search-input" placeholder="Search products..." />
          <div id="product-suggestions" class="suggestions"></div>
        </div>
      </div>
    </div>
  </header>

  <section class="product-details-section">
    <div class="product-details" id="product-details">
      <p>Loading product details...</p>
    </div>
    <!-- <a href="index.html#products" class="back-button">Back to Shop</a> -->
  </section>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="terms.html">Terms and Conditions</a>
        <a href="privacy.html">Privacy Policy</a>
      </div>
      <div class="footer-social">
        <a href="https://x.com/astra_io_in" target="_blank" aria-label="Twitter">
          <i class="fab fa-x-twitter"></i>
        </a>
        <a href="https://www.instagram.com/astra.io.in/" target="_blank" aria-label="Instagram">
          <i class="fab fa-instagram"></i>
        </a>
        <!-- <a href="https://facebook.com/yourprofile" target="_blank" aria-label="Facebook">
          <i class="fab fa-facebook-f"></i> -->
        </a>
      </div>
      <p>© 2025 ASTRA Electronics. All rights reserved.</p>
    </div>
  </footer>

  <!-- Toast Notification -->
  <div id="toast" class="toast">Item added to cart!</div>

  <script>
    function showToast(message) {
      const toast = document.getElementById("toast");
      toast.textContent = message;
      toast.classList.add("show");
      setTimeout(() => {
        toast.classList.remove("show");
      }, 2000);
    }

    // Mobile Menu Toggle
    document.getElementById("menu-toggle").addEventListener("click", function () {
      document.getElementById("nav-menu").classList.toggle("active");
    });
  </script>

  <!-- JS -->
  <script src="js/products.js"></script>
  <script>
    // Render product details
    document.addEventListener("DOMContentLoaded", () => {
      console.log("DOM loaded, initializing product details");
      const params = new URLSearchParams(window.location.search);
      const productId = parseInt(params.get("id"));
      const product = products.find(p => p.id === productId);
      const detailsContainer = document.getElementById("product-details");

      if (!product) {
        detailsContainer.innerHTML = "<p>Product not found.</p>";
        console.error(`Product with ID ${productId} not found`);
        return;
      }

      detailsContainer.innerHTML = `
        <img src="${product.image}" alt="${product.name}" class="product-details-img" />
        <h2>${product.name}</h2>
        <p class="product-details-price">₹${product.price}</p>
        <p class="product-details-description">${product.description}</p>
        <button id="add-to-cart-btn">Add to Cart</button>
      `;

      // Add to cart button
      const addToCartBtn = document.getElementById("add-to-cart-btn");
      if (addToCartBtn) {
        addToCartBtn.addEventListener("click", () => {
          addToCart(product);
        });
      } else {
        console.error("Add to Cart button not found");
      }

      // Update cart count
      updateCartCount();
    });
  </script>
  <script src="js/products.js"></script>
</body>
</html>